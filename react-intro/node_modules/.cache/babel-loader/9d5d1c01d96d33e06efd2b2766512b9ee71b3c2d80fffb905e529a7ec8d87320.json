{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piter\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\\\u0423\\u0447\\u0435\\u0431\\u0430\\\\web\\\\project\\\\react-intro\\\\src\\\\views\\\\registration\\\\Registration.js\";\nimport React from \"react\";\nimport Header from \"../../components/header/Header.js\";\nimport Footer from \"../../components/footer/Footer.js\";\nimport \"./Registration.css\";\nimport ReactDOM from 'react-dom';\nimport cross from \"../../static/cross.png\";\nimport checkmark from \"../../static/checkmark.png\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nclass RegForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onTextChange = event => {\n      let tmp;\n      let data;\n      switch (event.target.id) {\n        case \"input_name\":\n          this.setState({\n            name: event.target.value\n          });\n          tmp = this.state;\n          tmp.name = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_last_name\":\n          this.setState({\n            last_name: event.target.value\n          });\n          tmp = this.state;\n          tmp.last_name = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_login\":\n          data = {\n            login: event.target.value\n          };\n          axios.post(\"http://localhost:3010/api/check_existance\", data, this.config).then(function (response) {\n            if (Object.keys(response).length != 0 && response.data[\"status\"] != 0) {\n              if (event.target.value != \"\") {\n                event.target.style.backgroundColor = \"#FC8E86\";\n              } else {\n                event.target.style.backgroundColor = \"#ffffff\";\n              }\n            } else if (Object.keys(response).length != 0 && response.data[\"status\"] == 0) {\n              if (event.target.value != \"\") {\n                event.target.style.backgroundColor = \"#6CECC7\";\n              } else {\n                event.target.style.backgroundColor = \"#ffffff\";\n              }\n            }\n          }).catch(function (error) {\n            if (error.response) {\n              alert(\"Ошибка \" + String(error.response.status));\n            }\n          });\n          if (event.target.style.backgroundColor === \"#FC8E86\") {\n            this.setState({\n              login_unique: false\n            });\n          } else if (event.target.style.backgroundColor === \"#6CECC7\") {\n            console.log(6);\n            this.setState({\n              login_unique: true\n            });\n          }\n          this.setState({\n            login: event.target.value\n          });\n          tmp = this.state;\n          tmp.login = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_nickname\":\n          this.setState({\n            nickname: event.target.value\n          });\n          tmp = this.state;\n          tmp.nickname = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_mail\":\n          data = {\n            email: event.target.value\n          };\n          axios.post(\"http://localhost:3010/api/check_existance\", data, this.config).then(function (response) {\n            if (Object.keys(response).length != 0 && response.data[\"status\"] != 0) {\n              if (event.target.value != \"\") {\n                event.target.style.backgroundColor = \"#FC8E86\";\n              } else {\n                event.target.style.backgroundColor = \"#ffffff\";\n              }\n            } else if (Object.keys(response).length != 0 && response.data[\"status\"] == 0) {\n              if (event.target.value != \"\") {\n                event.target.style.backgroundColor = \"#6CECC7\";\n              } else {\n                event.target.style.backgroundColor = \"#ffffff\";\n              }\n            }\n          }).catch(function (error) {\n            if (error.response) {\n              alert(\"Ошибка \" + String(error.response.status));\n            }\n          });\n          if (event.target.style.backgroundColor === \"#FC8E86\") {\n            this.setState({\n              email_unique: false\n            });\n          } else if (event.target.style.backgroundColor === \"#6CECC7\") {\n            this.setState({\n              email_unique: true\n            });\n          }\n          this.setState({\n            email: event.target.value\n          });\n          tmp = this.state;\n          tmp.email = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_phone\":\n          this.setState({\n            phone: event.target.value\n          });\n          tmp = this.state;\n          tmp.phone = event.target.value;\n          this.props.changeFunc(tmp);\n          break;\n        case \"input_pass1\":\n          this.setState({\n            password1: event.target.value\n          });\n          tmp = this.state;\n          tmp.password1 = event.target.value;\n          this.props.changeFunc(tmp);\n          var status = this.checkPassword(event.target.value);\n          if (!status.len || !status.bigIn || !status.numIn) {\n            event.target.style.backgroundColor = \"#FC8E86\";\n          } else {\n            event.target.style.backgroundColor = \"#6CECC7\";\n          }\n          let pass2 = ReactDOM.findDOMNode(document.getElementById(\"input_pass2\"));\n          if (pass2.value != event.target.value) {\n            pass2.style.backgroundColor = \"#FC8E86\";\n          } else {\n            pass2.style.backgroundColor = \"#FC8E86\";\n          }\n          break;\n        case \"input_pass2\":\n          this.setState({\n            password2: event.target.value\n          });\n          var status = this.checkPassword(event.target.value);\n          if (this.state.password1 != event.target.value || !status.len || !status.bigIn || !status.numIn) {\n            event.target.style.backgroundColor = \"#fc8e86\";\n          } else {\n            event.target.style.backgroundColor = \"#6CECC7\";\n          }\n          break;\n      }\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.onBoxChange = this.onBoxChange.bind(this);\n    this.state = {\n      name: \"\",\n      last_name: \"\",\n      login: \"\",\n      nickname: \"\",\n      email: \"\",\n      phone: \"\",\n      password1: \"\",\n      password2: \"\",\n      req1: false,\n      req2: false,\n      req3: false,\n      reg_status: 0,\n      box: false,\n      login_unique: false,\n      email_unique: false\n    };\n    this.config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': '123qwe'\n      }\n    };\n  }\n  handleClick(e) {\n    if (e.target.id == \"reg_btn\") {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': '123qwe'\n        }\n      };\n      if (this.state.email != \"\" && this.state.login != \"\" && this.state.req1 && this.state.req2 && this.state.req3 && this.state.password1 == this.state.password2 && this.state.box && this.state.login_unique && this.state.email_unique) {\n        this.state.reg_status = 1;\n        this.props.confFunc({\n          \"name\": this.state.name,\n          \"last_name\": this.state.last_name,\n          \"login\": this.state.login,\n          \"nickname\": this.state.nickname,\n          \"email\": this.state.email,\n          \"phone\": this.state.phone,\n          \"password\": this.state.password1\n        });\n      } else if (this.state.email == \"\" || this.state.login == \"\" || this.state.password1 == \"\" || this.state.password2 == \"\") {\n        alert(\"Вы заполнили не все обязательные поля\");\n      } else if (!this.state.req1 || !this.state.req2 || !this.state.req3) {\n        alert(\"Пароль не соответствует требованиям\");\n      } else if (this.state.password1 != this.state.password2) {\n        alert(\"Пароли не совпадают\");\n      } else if (!this.state.box) {\n        alert(\"Вы не согласились с правилами\");\n      } else if (!this.login_unique) {\n        alert(\"Такой логин уже есть\");\n      } else if (!this.email_unique) {\n        alert(\"Такая почта уже есть\");\n      }\n    }\n  }\n  onBoxChange(e) {\n    if (e.target.checked) {\n      this.setState({\n        box: true\n      });\n    } else {\n      this.setState({\n        box: false\n      });\n    }\n  }\n  checkPassword(pass) {\n    let status = {\n      len: false,\n      bigIn: false,\n      numIn: false\n    };\n    let r1 = new RegExp(\"[A-ZА-Я]\");\n    let r2 = new RegExp(\"[0-9]\");\n    if (pass.length >= 8) {\n      status[\"len\"] = true;\n    }\n    if (r1.test(pass)) {\n      status[\"bigIn\"] = true;\n    }\n    if (r2.test(pass)) {\n      status[\"numIn\"] = true;\n    }\n    this.setState({\n      req1: status.len,\n      req2: status.bigIn,\n      req3: status.numIn\n    });\n    return status;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reg_block\",\n      style: this.props.style,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reg_title\",\n        children: /*#__PURE__*/_jsxDEV(\"h\", {\n          style: {\n            marginBottom: \"10px\"\n          },\n          children: \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"inputs_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.onTextChange,\n              maxLength: \"30\",\n              id: \"input_name\",\n              type: \"text\",\n              placeholder: \"\\u0418\\u043C\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.onTextChange,\n              maxLength: \"40\",\n              id: \"input_last_name\",\n              type: \"text\",\n              placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"inputs_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                marginBottom: \"10px\",\n                marginRight: \"5px\"\n              },\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                marginRight: \"10px\"\n              },\n              onChange: this.onTextChange,\n              maxLength: \"30\",\n              id: \"input_login\",\n              required: true,\n              type: \"text\",\n              placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.onTextChange,\n              maxLength: \"20\",\n              id: \"input_nickname\",\n              type: \"text\",\n              placeholder: \"\\u041D\\u0438\\u043A\\u043D\\u0435\\u0439\\u043C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"inputs_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                marginBottom: \"10px\",\n                marginRight: \"5px\"\n              },\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                marginRight: \"10px\"\n              },\n              onChange: this.onTextChange,\n              required: true,\n              maxLength: \"50\",\n              id: \"input_mail\",\n              type: \"text\",\n              placeholder: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.onTextChange,\n              type: \"text\",\n              id: \"input_phone\",\n              placeholder: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"inputs_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                marginBottom: \"10px\",\n                marginRight: \"5px\"\n              },\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                marginRight: \"10px\"\n              },\n              onChange: this.onTextChange,\n              required: true,\n              minLength: \"8\",\n              id: \"input_pass1\",\n              maxLength: \"70\",\n              type: \"password\",\n              placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                marginBottom: \"10px\",\n                marginRight: \"5px\"\n              },\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                marginRight: \"10px\"\n              },\n              onChange: this.onTextChange,\n              required: true,\n              minLength: \"8\",\n              id: \"input_pass2\",\n              maxLength: \"70\",\n              type: \"password\",\n              placeholder: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"inputs_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"pass_require\",\n            children: [/*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                fontWeight: 700,\n                fontSize: \"15px\",\n                marginLeft: \"8%\"\n              },\n              children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.req1 ? checkmark : cross,\n                width: \"25px\",\n                id: \"req_len\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n                style: {\n                  fontSize: \"13px\",\n                  color: \"grey\"\n                },\n                children: \"\\u0421\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0438\\u0437 8+ \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.req2 ? checkmark : cross,\n                width: \"25px\",\n                id: \"req_big\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n                style: {\n                  fontSize: \"13px\",\n                  color: \"grey\"\n                },\n                children: \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0445\\u043E\\u0442\\u044F \\u0431\\u044B 1 \\u0437\\u0430\\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E \\u0431\\u0443\\u043A\\u0432\\u0443\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: this.state.req3 ? checkmark : cross,\n                width: \"25px\",\n                id: \"req_num\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n                style: {\n                  fontSize: \"13px\",\n                  color: \"grey\"\n                },\n                children: \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0445\\u043E\\u0442\\u044F \\u0431\\u044B 1 \\u0446\\u0438\\u0444\\u0440\\u0443\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"inputs_col\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: this.onBoxChange,\n              type: \"checkbox\",\n              id: \"agreed\",\n              style: {\n                width: \"auto\",\n                border: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n              style: {\n                width: \"70%\",\n                fontSize: \"13px\",\n                fontWeight: 400,\n                color: \"#000000B2\",\n                marginLeft: \"5%\"\n              },\n              children: \"\\u0421 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\\u043E\\u043C \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"inline-flex\",\n          marginTop: \"10px\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleClick,\n          id: \"reg_btn\",\n          children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"have_acc\",\n          children: \"\\u0415\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass MailConfirmation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onBtnClick = this.onBtnClick.bind(this);\n    this.onNumInput = this.onNumInput.bind(this);\n    this.state = {\n      name: props.u_name,\n      last_name: props.u_last_name,\n      login: props.u_login,\n      nickname: props.u_nickname,\n      email: props.u_email,\n      phone: props.u_phone,\n      password: props.u_password,\n      conf_answer: props.u_conf_answer,\n      user_answer: [\"\", \"\", \"\", \"\", \"\", \"\"]\n    };\n  }\n  onBtnClick() {\n    if (this.state.user_answer.join(\"\") == this.props.u_conf_answer) {\n      var config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': '123qwe'\n        }\n      };\n      var data = {\n        first_name: this.props.u_first_name,\n        last_name: this.props.u_last_name,\n        email: this.props.u_email,\n        nickname: this.props.u_nickname,\n        login: this.props.u_login,\n        password: this.props.u_password\n      };\n      axios.post(\"http://localhost:3010/api/registration\", data, config).then(function (response) {\n        if (Object.keys(response).length == 0 || Object.keys(response.data).length == 0 || response.data[\"status\"] == 1) {\n          alert(\"Ошибка\");\n        } else {\n          cookies.set(\"jwt\", response.data[\"token\"], {\n            path: \"/\",\n            sameSite: \"strict\"\n          });\n          console.log(this.props);\n          this.props.navigate(\"/my_profile\", {\n            replace: true\n          });\n        }\n      }).catch(function (error) {\n        if (error.response) {\n          alert(\"Ошибка \" + String(error.response.status));\n        }\n      });\n      var resp;\n      data = {\n        public_key: this.props.u_email,\n        private_key: this.props.u_password\n      };\n      axios.post(\"http://localhost:3010/api/login\", data, config).then(function (response) {\n        if (Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && response.data[\"status\"] == 1) {\n          alert(\"Неверный логин или адрес почты\");\n        } else if (Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && response.data[\"status\"] == 2) {\n          alert(\"Неверный пароль\");\n        } else if (Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && Object.keys(response.data).includes(\"token\")) {\n          cookies.set(\"jwt\", response.data[\"token\"], {\n            path: \"/\",\n            sameSite: \"strict\"\n          });\n          console.log(this.props);\n          this.props.navigate(\"/my_profile\", {\n            replace: true\n          });\n        } else {\n          alert(\"Ошибка сервера\");\n        }\n      }).catch(function (error) {\n        if (error.response) {\n          alert(\"Ошибка \" + String(error.response.status));\n        }\n      });\n    }\n  }\n  onNumInput(e) {\n    let id = parseInt(e.target.id.split(\"_\")[1]);\n    if (e.target.value.length > 0) {\n      let new_user_answer = this.state.user_answer;\n      new_user_answer[id - 1] = e.target.value;\n      this.setState({\n        user_answer: new_user_answer\n      });\n      if (id != 6) {\n        ReactDOM.findDOMNode(document.getElementById(`inp_${id + 1}`)).focus();\n      } else {\n        ReactDOM.findDOMNode(document.getElementById(`inp_6`)).blur();\n      }\n    } else {\n      if (id != 1) {\n        ReactDOM.findDOMNode(document.getElementById(`inp_${id - 1}`)).focus();\n      }\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reg_block\",\n      style: this.props.style,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reg_title\",\n        children: /*#__PURE__*/_jsxDEV(\"h\", {\n          style: {\n            marginBottom: \"10px\",\n            fontFamily: \"Roboto\",\n            color: \"#000000B2\"\n          },\n          children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u0447\\u0442\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conf_main\",\n        children: [/*#__PURE__*/_jsxDEV(\"h\", {\n          children: \"\\u041F\\u0438\\u0441\\u044C\\u043C\\u043E \\u0443\\u043B\\u0435\\u0442\\u0435\\u043B\\u043E, \\u0430 \\u0442\\u044B \\u0435\\u0449\\u0435 \\u043D\\u0435\\u0442!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n          children: \"\\u0421\\u043A\\u043E\\u0440\\u0435\\u0435 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0430\\u0439 \\u043F\\u043E\\u0447\\u0442\\u0443 \\u0438 \\u043F\\u0440\\u0438\\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u044F\\u0439\\u0441\\u044F \\u043A \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h\", {\n          children: \"Vmeste\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conf_inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_1\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_2\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\",\n            style: {\n              marginLeft: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_3\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\",\n            style: {\n              marginLeft: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_4\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\",\n            style: {\n              marginLeft: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_5\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\",\n            style: {\n              marginLeft: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"inp_6\",\n            onChange: this.onNumInput,\n            maxLength: \"1\",\n            className: \"conf_input\",\n            style: {\n              marginLeft: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"30px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"conf_btn\",\n            onClick: this.onBtnClick,\n            children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C \\u043F\\u043E\\u0447\\u0442\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }, this);\n  }\n}\nclass Registration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.data1 = /*#__PURE__*/React.createRef();\n    this.data2 = /*#__PURE__*/React.createRef();\n    this.navigate = this.props.navigate;\n    this.confirmation = this.confirmation.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.state = {\n      name: \"\",\n      last_name: \"\",\n      login: \"\",\n      nickname: \"\",\n      email: \"\",\n      phone: \"\",\n      password: \"\",\n      reg_display: \"block\",\n      conf_display: \"none\",\n      conf_answer: \"\"\n    };\n  }\n  onInputChange(e) {\n    this.setState({\n      name: e.name,\n      last_name: e.last_name,\n      login: e.login,\n      nickname: e.nickname,\n      email: e.email,\n      password: e.password1,\n      phone: e.phone\n    });\n  }\n  confirmation(e) {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': '123qwe'\n      }\n    };\n    const data = {\n      email: e.email\n    };\n    axios.post(\"http://localhost:3010/api/confirm_email\", data, config).then(response => this.setState({\n      conf_answer: String(Math.floor(response.data.ans / 2 ** response.data.key))\n    })).catch(function (error) {\n      if (error.response) {\n        alert(\"Ошибка \" + String(error.response.status));\n      }\n    });\n    ;\n    this.setState({\n      reg_display: \"none\",\n      conf_display: \"block\"\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isMain: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reg_wrap\",\n        children: [/*#__PURE__*/_jsxDEV(RegForm, {\n          changeFunc: this.onInputChange,\n          confFunc: this.confirmation,\n          style: {\n            display: this.state.reg_display\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MailConfirmation, {\n          id: \"mailconf\",\n          style: {\n            height: \"400px\",\n            display: this.state.conf_display\n          },\n          navigate: this.navigate,\n          u_name: this.state.name,\n          u_last_name: this.state.last_name,\n          u_login: this.state.login,\n          u_nickname: this.state.nickname,\n          u_email: this.state.email,\n          u_phone: this.state.phone,\n          u_password: this.state.password,\n          u_conf_answer: this.state.conf_answer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        style: {\n          background: \"#FFFDC7\",\n          height: \"380px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Registration;","map":{"version":3,"names":["React","Header","Footer","ReactDOM","cross","checkmark","Link","axios","Cookies","jsxDEV","_jsxDEV","cookies","RegForm","Component","constructor","props","onTextChange","event","tmp","data","target","id","setState","name","value","state","changeFunc","last_name","login","post","config","then","response","Object","keys","length","style","backgroundColor","catch","error","alert","String","status","login_unique","console","log","nickname","email","email_unique","phone","password1","checkPassword","len","bigIn","numIn","pass2","findDOMNode","document","getElementById","password2","handleClick","bind","onBoxChange","req1","req2","req3","reg_status","box","headers","e","confFunc","checked","pass","r1","RegExp","r2","test","render","className","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onChange","maxLength","type","placeholder","marginRight","required","minLength","fontWeight","fontSize","marginLeft","src","width","color","border","display","marginTop","alignItems","onClick","to","MailConfirmation","onBtnClick","onNumInput","u_name","u_last_name","u_login","u_nickname","u_email","u_phone","password","u_password","conf_answer","u_conf_answer","user_answer","join","first_name","u_first_name","set","path","sameSite","navigate","replace","resp","public_key","private_key","includes","parseInt","split","new_user_answer","focus","blur","fontFamily","Registration","data1","createRef","data2","confirmation","onInputChange","reg_display","conf_display","Math","floor","ans","key","isMain","height","background"],"sources":["C:/Users/piter/OneDrive/Рабочий стол/Учеба/web/project/react-intro/src/views/registration/Registration.js"],"sourcesContent":["import React from \"react\";\r\nimport Header from \"../../components/header/Header.js\";\r\nimport Footer from \"../../components/footer/Footer.js\";\r\nimport \"./Registration.css\";\r\nimport ReactDOM from 'react-dom';\r\nimport cross from \"../../static/cross.png\";\r\nimport checkmark from \"../../static/checkmark.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass RegForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.onBoxChange = this.onBoxChange.bind(this);\r\n        this.state = {\r\n            name: \"\",\r\n            last_name: \"\",\r\n            login: \"\",\r\n            nickname: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            password1: \"\",\r\n            password2: \"\",\r\n            req1: false,\r\n            req2: false,\r\n            req3: false,\r\n            reg_status: 0,\r\n            box: false,\r\n            login_unique: false,\r\n            email_unique: false\r\n        }\r\n        this.config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': '123qwe'\r\n            }\r\n        }\r\n    }\r\n\r\n    handleClick(e) {\r\n        if (e.target.id == \"reg_btn\") {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'authorization': '123qwe'\r\n                }\r\n            }\r\n            if (this.state.email != \"\" && this.state.login != \"\" && this.state.req1 && this.state.req2 && this.state.req3 && this.state.password1 == this.state.password2 && this.state.box && this.state.login_unique && this.state.email_unique) {\r\n                this.state.reg_status = 1;\r\n                this.props.confFunc({\"name\": this.state.name, \"last_name\": this.state.last_name, \"login\": this.state.login, \"nickname\": this.state.nickname, \"email\": this.state.email, \"phone\": this.state.phone, \"password\": this.state.password1})\r\n            } else if (this.state.email == \"\" || this.state.login == \"\" || this.state.password1 == \"\" || this.state.password2 == \"\"){\r\n                alert(\"Вы заполнили не все обязательные поля\");\r\n            } else if (!this.state.req1 || !this.state.req2 || !this.state.req3) {\r\n                alert(\"Пароль не соответствует требованиям\");\r\n            } else if (this.state.password1 != this.state.password2) {\r\n                alert(\"Пароли не совпадают\");\r\n            } else if (!this.state.box) {\r\n                alert(\"Вы не согласились с правилами\");\r\n            } else if (!this.login_unique) {\r\n                alert(\"Такой логин уже есть\");\r\n            } else if (!this.email_unique) {\r\n                alert(\"Такая почта уже есть\");\r\n            }\r\n        }\r\n    }\r\n\r\n    onBoxChange(e) {\r\n        if (e.target.checked) {\r\n            this.setState({box: true});\r\n        } else {\r\n            this.setState({box: false});\r\n        }\r\n    }\r\n\r\n    checkPassword(pass) {\r\n        let status = {len: false, bigIn: false, numIn: false};\r\n        let r1 = new RegExp(\"[A-ZА-Я]\");\r\n        let r2 = new RegExp(\"[0-9]\");\r\n        if (pass.length >= 8){\r\n            status[\"len\"] = true;\r\n        }\r\n        if (r1.test(pass)) {\r\n            status[\"bigIn\"] = true;\r\n        }\r\n        if (r2.test(pass)) {\r\n            status[\"numIn\"] = true;\r\n        }\r\n        this.setState({req1: status.len, req2: status.bigIn, req3: status.numIn})\r\n        return status;\r\n    }\r\n\r\n    onTextChange = event => {\r\n        let tmp\r\n        let data\r\n        switch (event.target.id ){\r\n            case \"input_name\": \r\n                this.setState({name: event.target.value});\r\n                tmp = this.state;\r\n                tmp.name = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_last_name\": \r\n                this.setState({last_name: event.target.value});\r\n                tmp = this.state;\r\n                tmp.last_name = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_login\":\r\n                data = {login: event.target.value}\r\n                axios.post( \"http://localhost:3010/api/check_existance\", data, this.config).then(function(response) {\r\n                    if (Object.keys(response).length != 0 && response.data[\"status\"] != 0) {\r\n                        if (event.target.value != \"\") {\r\n                            event.target.style.backgroundColor = \"#FC8E86\";\r\n                        } else {\r\n                            event.target.style.backgroundColor = \"#ffffff\";\r\n                        }\r\n                    } else if (Object.keys(response).length != 0 && response.data[\"status\"] == 0) {\r\n                        if (event.target.value != \"\") {\r\n                            event.target.style.backgroundColor = \"#6CECC7\";\r\n                        } else {\r\n                            event.target.style.backgroundColor = \"#ffffff\";\r\n                        }\r\n                    }\r\n                }).catch(function (error) {\r\n                    if (error.response) {\r\n                        alert(\"Ошибка \" + String(error.response.status));\r\n                    }\r\n                });\r\n                if (event.target.style.backgroundColor === \"#FC8E86\") {\r\n                    this.setState({login_unique: false});\r\n                } else if (event.target.style.backgroundColor === \"#6CECC7\") {\r\n                    console.log(6);\r\n                    this.setState({login_unique: true});\r\n                }\r\n                this.setState({login: event.target.value});\r\n                tmp = this.state;\r\n                tmp.login = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_nickname\": \r\n                this.setState({nickname: event.target.value});\r\n                tmp = this.state;\r\n                tmp.nickname = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_mail\": \r\n            data = {email: event.target.value}\r\n            axios.post( \"http://localhost:3010/api/check_existance\", data, this.config).then(function(response) {\r\n                if (Object.keys(response).length != 0 && response.data[\"status\"] != 0) {\r\n                    if (event.target.value != \"\") {\r\n                        event.target.style.backgroundColor = \"#FC8E86\";\r\n                    } else {\r\n                        event.target.style.backgroundColor = \"#ffffff\";\r\n                    }\r\n                } else if (Object.keys(response).length != 0 && response.data[\"status\"] == 0) {\r\n                    if (event.target.value != \"\") {\r\n                        event.target.style.backgroundColor = \"#6CECC7\";\r\n                    } else {\r\n                        event.target.style.backgroundColor = \"#ffffff\";\r\n                    }\r\n                }\r\n            }).catch(function (error) {\r\n                if (error.response) {\r\n                    alert(\"Ошибка \" + String(error.response.status));\r\n                }\r\n            });\r\n            if (event.target.style.backgroundColor === \"#FC8E86\") {\r\n                this.setState({email_unique: false});\r\n            } else if (event.target.style.backgroundColor === \"#6CECC7\") {\r\n                this.setState({email_unique: true});\r\n            }\r\n                this.setState({email: event.target.value});\r\n                tmp = this.state;\r\n                tmp.email = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_phone\": \r\n                this.setState({phone: event.target.value});\r\n                tmp = this.state;\r\n                tmp.phone = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                break;\r\n            case \"input_pass1\":\r\n                this.setState({password1: event.target.value});\r\n                tmp = this.state;\r\n                tmp.password1 = event.target.value;\r\n                this.props.changeFunc(tmp);\r\n                var status = this.checkPassword(event.target.value);\r\n                if ((!status.len) || (!status.bigIn) || (!status.numIn)) {\r\n                    event.target.style.backgroundColor = \"#FC8E86\";\r\n                } else {\r\n                    event.target.style.backgroundColor = \"#6CECC7\";\r\n                }\r\n                let pass2 = ReactDOM.findDOMNode(document.getElementById(\"input_pass2\"));\r\n                if (pass2.value != event.target.value) {\r\n                    pass2.style.backgroundColor = \"#FC8E86\";\r\n                } else {\r\n                    pass2.style.backgroundColor = \"#FC8E86\";\r\n                }\r\n                break;\r\n            case \"input_pass2\":\r\n                this.setState({password2: event.target.value});\r\n                var status = this.checkPassword(event.target.value);\r\n                if (this.state.password1 != event.target.value || ((!status.len) || (!status.bigIn) || (!status.numIn))) {\r\n                    event.target.style.backgroundColor = \"#fc8e86\";\r\n                } else {\r\n                    event.target.style.backgroundColor = \"#6CECC7\";\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"reg_block\" style={this.props.style}>\r\n                <div className=\"reg_title\">\r\n                    <h style={{marginBottom: \"10px\"}}>Форма регистрации</h>\r\n                </div>\r\n                <table className=\"inputs\">\r\n                    <tr className=\"inputs_row\">\r\n                        <td className=\"inputs_col\">\r\n                            <input onChange={this.onTextChange} maxLength=\"30\" id=\"input_name\" type=\"text\" placeholder=\"Имя\"></input>\r\n                        </td>\r\n                        <td className=\"inputs_col\">\r\n                            <input onChange={this.onTextChange} maxLength=\"40\" id=\"input_last_name\" type=\"text\" placeholder=\"Фамилия\"></input>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"inputs_row\">\r\n                        <td className=\"inputs_col\">\r\n                            <h style={{marginBottom: \"10px\", marginRight: \"5px\"}}>*</h>\r\n                            <input style={{marginRight: \"10px\"}} onChange={this.onTextChange} maxLength=\"30\" id=\"input_login\" required type=\"text\" placeholder=\"Логин\"></input>\r\n                        </td>\r\n                        <td className=\"inputs_col\">\r\n                            <input onChange={this.onTextChange} maxLength=\"20\" id=\"input_nickname\" type=\"text\" placeholder=\"Никнейм\"></input>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"inputs_row\">\r\n                        <td className=\"inputs_col\">\r\n                            <h style={{marginBottom: \"10px\", marginRight: \"5px\"}}>*</h>\r\n                            <input style={{marginRight: \"10px\"}} onChange={this.onTextChange} required maxLength=\"50\" id=\"input_mail\" type=\"text\" placeholder=\"Почта\"></input>\r\n                        </td>\r\n                        <td className=\"inputs_col\">\r\n                            <input onChange={this.onTextChange} type=\"text\" id=\"input_phone\" placeholder=\"Телефон\"></input>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"inputs_row\">\r\n                        <td className=\"inputs_col\">\r\n                            <h style={{marginBottom: \"10px\", marginRight: \"5px\"}}>*</h>\r\n                            <input style={{marginRight: \"10px\"}} onChange={this.onTextChange} required minLength=\"8\" id=\"input_pass1\" maxLength=\"70\" type=\"password\" placeholder=\"Пароль\"></input>\r\n                        </td>\r\n                        <td className=\"inputs_col\">\r\n                            <h style={{marginBottom: \"10px\", marginRight: \"5px\"}}>*</h>\r\n                            <input style={{marginRight: \"10px\"}} onChange={this.onTextChange} required minLength=\"8\" id=\"input_pass2\" maxLength=\"70\" type=\"password\" placeholder=\"Подтверждение пароля\"></input>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"inputs_row\">\r\n                        <td className=\"pass_require\">\r\n                            <h style={{fontWeight: 700, fontSize: \"15px\", marginLeft: \"8%\"}}>Пароль должен:</h>\r\n                            <div>\r\n                                <img src={this.state.req1 ? checkmark : cross} width=\"25px\" id=\"req_len\"/>\r\n                                <h style={{fontSize: \"13px\", color: \"grey\"}}>\r\n                                    Состоять из 8+ символов\r\n                                </h>\r\n                            </div>\r\n                            <div>\r\n                                <img src={this.state.req2 ? checkmark : cross} width=\"25px\" id=\"req_big\"/>\r\n                                <h style={{fontSize: \"13px\", color: \"grey\"}}>\r\n                                    Содержать хотя бы 1 заглавную букву\r\n                                </h>\r\n                            </div>\r\n                            <div>\r\n                                <img src={this.state.req3 ? checkmark : cross} width=\"25px\" id=\"req_num\"/>\r\n                                <h style={{fontSize: \"13px\", color: \"grey\"}}>\r\n                                    Содержать хотя бы 1 цифру\r\n                                </h>\r\n                            </div>\r\n                        </td>\r\n                        <td className=\"inputs_col\">\r\n                            <input onChange={this.onBoxChange} type=\"checkbox\" id=\"agreed\" style={{width: \"auto\", border: 0}}/>\r\n                            <h style={{width: \"70%\", fontSize: \"13px\", fontWeight: 400, color: \"#000000B2\", marginLeft: \"5%\"}}>С правилами пользования сервисом согласен</h>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <div style={{display: \"inline-flex\", marginTop: \"10px\", alignItems: \"center\"}}>\r\n                    <button onClick={this.handleClick} id=\"reg_btn\">Зарегистрироваться</button>\r\n                    <Link to=\"/login\" className=\"have_acc\">Есть аккаунт?</Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MailConfirmation extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onBtnClick = this.onBtnClick.bind(this);\r\n        this.onNumInput = this.onNumInput.bind(this);\r\n        this.state = {\r\n            name: props.u_name,\r\n            last_name: props.u_last_name,\r\n            login: props.u_login,\r\n            nickname: props.u_nickname,\r\n            email: props.u_email,\r\n            phone: props.u_phone,\r\n            password: props.u_password,\r\n            conf_answer: props.u_conf_answer,\r\n            user_answer: [\"\", \"\", \"\", \"\", \"\", \"\"]\r\n        }\r\n    }\r\n\r\n    onBtnClick() {\r\n        if (this.state.user_answer.join(\"\") == this.props.u_conf_answer) {\r\n            var config = {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'authorization': '123qwe'\r\n                }\r\n            }\r\n            var data = {first_name: this.props.u_first_name, last_name: this.props.u_last_name, email: this.props.u_email, nickname: this.props.u_nickname, login: this.props.u_login, password: this.props.u_password};\r\n            axios.post( \"http://localhost:3010/api/registration\", data, config).then(function(response) {\r\n                if (Object.keys(response).length == 0 || Object.keys(response.data).length == 0 || response.data[\"status\"] == 1) {\r\n                    alert(\"Ошибка\")\r\n                } else {\r\n                    cookies.set(\"jwt\", response.data[\"token\"], { path: \"/\", sameSite: \"strict\" });\r\n                    console.log(this.props);\r\n                    this.props.navigate(\"/my_profile\", { replace: true });\r\n                }\r\n                }).catch(function (error) {\r\n                if (error.response) {\r\n                    alert(\"Ошибка \" + String(error.response.status));\r\n                }\r\n            });\r\n\r\n            var resp;\r\n            data = {public_key: this.props.u_email, private_key: this.props.u_password};\r\n            axios.post( \"http://localhost:3010/api/login\", data, config).then(function(response) {\r\n            if (Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && response.data[\"status\"] == 1) {\r\n                alert(\"Неверный логин или адрес почты\")\r\n            } else if ((Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && response.data[\"status\"] == 2)) {\r\n                alert(\"Неверный пароль\")\r\n            } else if (Object.keys(response).length != 0 && Object.keys(response.data).length != 0 && Object.keys(response.data).includes(\"token\")) {\r\n                cookies.set(\"jwt\", response.data[\"token\"], { path: \"/\", sameSite: \"strict\" });\r\n                console.log(this.props);\r\n                this.props.navigate(\"/my_profile\", { replace: true });\r\n            } else {\r\n                alert(\"Ошибка сервера\");\r\n            }\r\n            }).catch(function (error) {\r\n                if (error.response) {\r\n                    alert(\"Ошибка \" + String(error.response.status));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onNumInput(e) {\r\n        let id = parseInt(e.target.id.split(\"_\")[1]);\r\n        if (e.target.value.length > 0) {\r\n            let new_user_answer = this.state.user_answer;\r\n            new_user_answer[id - 1] = e.target.value;\r\n            this.setState({user_answer: new_user_answer});\r\n            if (id != 6) {\r\n                ReactDOM.findDOMNode(document.getElementById(`inp_${id + 1}`)).focus();\r\n            } else {\r\n                ReactDOM.findDOMNode(document.getElementById(`inp_6`)).blur();\r\n            }\r\n        } else {\r\n            if (id != 1) {\r\n                ReactDOM.findDOMNode(document.getElementById(`inp_${id - 1}`)).focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"reg_block\" style={this.props.style}>\r\n                <div className=\"reg_title\">\r\n                    <h style={{marginBottom: \"10px\", fontFamily: \"Roboto\", color: \"#000000B2\"}}>Подтверждение почты</h>\r\n                </div>\r\n                <div className=\"conf_main\">\r\n                    <h>Письмо улетело, а ты еще нет!</h>\r\n                    <h>Скорее подтверждай почту и присоединяйся к сообществу </h>\r\n                    <h>Vmeste</h>\r\n                    <div className=\"conf_inputs\">\r\n                        <input id=\"inp_1\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\"/>\r\n                        <input id=\"inp_2\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\" style={{marginLeft: \"20px\"}}/>\r\n                        <input id=\"inp_3\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\" style={{marginLeft: \"20px\"}}/>\r\n                        <input id=\"inp_4\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\" style={{marginLeft: \"20px\"}}/>\r\n                        <input id=\"inp_5\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\" style={{marginLeft: \"20px\"}}/>\r\n                        <input id=\"inp_6\" onChange={this.onNumInput} maxLength=\"1\" className=\"conf_input\" style={{marginLeft: \"20px\"}}/> \r\n                    </div>\r\n                    <div style={{marginTop: \"30px\"}}>\r\n                        <button id=\"conf_btn\" onClick={this.onBtnClick}>Подтвердить почту</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Registration extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.data1 = React.createRef();\r\n        this.data2 = React.createRef();\r\n        this.navigate = this.props.navigate;\r\n        this.confirmation = this.confirmation.bind(this);\r\n        this.onInputChange = this.onInputChange.bind(this);\r\n        this.state = {\r\n            name: \"\",\r\n            last_name: \"\",\r\n            login: \"\",\r\n            nickname: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            password: \"\",\r\n            reg_display: \"block\",\r\n            conf_display: \"none\",\r\n            conf_answer: \"\"\r\n        }\r\n    }\r\n\r\n    onInputChange(e) {\r\n        this.setState({\r\n            name: e.name,\r\n            last_name: e.last_name,\r\n            login: e.login,\r\n            nickname: e.nickname,\r\n            email: e.email,\r\n            password: e.password1,\r\n            phone: e.phone\r\n        });\r\n\r\n    }\r\n\r\n    confirmation(e) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': '123qwe'\r\n            }\r\n        }\r\n        const data = {email: e.email};\r\n        axios.post( \"http://localhost:3010/api/confirm_email\", data, config)\r\n             .then(response => this.setState({conf_answer: String(Math.floor(response.data.ans / (2 ** response.data.key)))})).catch(function (error) {\r\n                if (error.response) {\r\n                    alert(\"Ошибка \" + String(error.response.status));\r\n                }\r\n              });;\r\n        this.setState({\r\n            reg_display: \"none\",\r\n            conf_display: \"block\"\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header isMain={false} />\r\n                <div className=\"reg_wrap\">\r\n                    <RegForm changeFunc={this.onInputChange} confFunc={this.confirmation} style={{display: this.state.reg_display}}/>\r\n                    <MailConfirmation id=\"mailconf\" style={{height: \"400px\", display: this.state.conf_display}} navigate={this.navigate} u_name={this.state.name} u_last_name={this.state.last_name} u_login={this.state.login} u_nickname={this.state.nickname} u_email={this.state.email} u_phone={this.state.phone} u_password={this.state.password} u_conf_answer={this.state.conf_answer} />\r\n                </div>\r\n                <Footer style={{background: \"#FFFDC7\", height: \"380px\"}}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Registration;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}